{"version":3,"sources":["uuidv4.js","offers.app.js","products.app.js","clientApi.js","model.js","settings.js","user.js","actions.js","app.js","components/login.js","components/cms.navbar.js","components/cms.offer.product.js","components/cms.offer.list.js","components/cms.offer.edit.js","components/cms.product.details.js","components/cms.product.list.js","components/cms.product.edit.js","components/cms.router.js","components/cms.js","index.js"],"names":["uuidv4","a","b","Math","random","toString","offers_app","create","id","created_at","floor","Date","now","info","offer_products","offer_shop","queries","offerList","mutations","offerCreate","offerDelete","products_app","batch","condition","desc","gallery","title","shop","category","price","initial","selling","quantity","val","unit","productList","productCreate","imgFilename","prod","imgUrl","concat","clientApi","connect","_offerList","Object","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","_gqlFetch","offers","sent","abrupt","stop","this","apply","arguments","_productList","_callee2","_context2","products","_productCreate","_callee3","product","_context3","_gqlPost","query","variables","_x","_offerCreate","_callee4","offer","_context4","_x2","_offerDelete","_callee5","offerIdList","_context5","_x3","_callee6","params","rawResponse","json","_context6","fetch","method","headers","Accept","Content-Type","body","JSON","stringify","_callee7","query_","_context7","data","_callee8","_ref","_context8","model","auth","login","connected","error","route","offers_to_delete","offerListMode","settings","getProductCategory","id_","productCategories","getProductQuantity","qty_","getShop","shops","find","productConditions","user","disconnect","app","setState","api","assign","productUnits","actions","_connect","actionId","offer_toggle_product","findIndex","push","splice","offer_create","offerApp","go","offer_edit","offer_save","forEach","k","_go","getState","action","actionPayload","payload","newRoute","Login","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","passwd","login_handleChange","bind","assertThisInitialized","passwd_handleChange","handleSubmit","event","target","value","preventDefault","react_default","createElement","className","onSubmit","type","placeholder","onChange","React","Component","CmsNav","onClick","onAction","_link","label","e","link","viewBox","xmlns","d","Icon","CmsOfferProduct","mode","src","alt","map","key","style","backgroundImage","CmsOfferList","page","items","_self","then","deletedOffers","filteredOfferItems","filter","includes","CmsOfferEdit","snapping","exportImage","handleCancel","offerArea","document","getElementById","offerDelProd","querySelectorAll","width","n","display","html2canvas","canvas","toBlob","blob","FileSaver","saveAs","prods","class","fontSize","CmsProductDetails","p","handleToggleProduct","newState","isProductSelected","name","CmsProductList","handleSave","prod_","cms_product_details_CmsProductDetails","CmsProductEdit","handleselectedFile","selectedFile","files","loaded","setTimeout","handleUpload","FormData","append","axios","post","onUploadProgress","ProgressEvent","total","console","log","statusText","handleChangeProduct","handleChangeBatch","handleChangeCategory","handleChangeDesc","handleChangeInitialPrice","handleChangeSellingPrice","handleChangeProductUnit","handleChangeQuantity","handleChangeShop","handleChangeTitle","checked","parseInt","parseFloat","hasPhoto","length","hasSelectedFile","selectedShop","disabled","backgroundColor","strokeWidth","value_","_percent","round","_progressLabel","htmlFor","cat_","shop_","cms_router","routes","cms_offer_edit_CmsOfferEdit","offer_list","cms_offer_list_CmsOfferList","offer_delete_display_modal","offer_product_add_display_modal","cms_product_list_CmsProductList","product_create","cms_product_edit_CmsProductEdit","product_edit","product_list","Cms","CmsRouter","App","login_Login","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.1452d75a.chunk.js","sourcesContent":["export default function(\r\n  a,\r\n  b, // placeholders\r\n) {\r\n  for (\r\n    // loop :)\r\n    b = a = ''; // b - result , a - numeric variable\r\n    a++ < 36; //\r\n    b +=\r\n      (a * 51) & 52 // if \"a\" is not 9 or 14 or 19 or 24\r\n        ? //  return a random number or 4\r\n          (a ^ 15 // if \"a\" is not 15\r\n            ? // generate a random number from 0 to 15\r\n              8 ^ (Math.random() * (a ^ 20 ? 16 : 4)) // unless \"a\" is 20, in which case a random number from 8 to 11\r\n            : 4\r\n          ) //  otherwise 4\r\n            .toString(16)\r\n        : '-' //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\r\n  );\r\n  return b;\r\n}\r\n","import uuidv4 from './uuidv4';\r\n\r\nexport default {\r\n  create,\r\n  queries: {\r\n    offerList: `{\r\n  offerList {\r\n    items {\r\n      id\r\n      created_at\r\n      info\r\n      offer_products {\r\n        id\r\n        batch\r\n        condition\r\n        created_at\r\n        desc\r\n        gallery\r\n        title\r\n        shop\r\n        category\r\n        condition\r\n        price {\r\n          initial\r\n          selling\r\n        }\r\n        quantity {\r\n          val\r\n          unit\r\n        }\r\n      }\r\n      offer_shop      \r\n    }\r\n    page {\r\n      current\r\n      length\r\n    }\r\n  }\r\n}\r\n`,\r\n  },\r\n  mutations: {\r\n    offerCreate: `mutation OfferCreate($offer: OfferInput) {\r\n      offerCreate(offer: $offer) {\r\n        id\r\n        created_at\r\n        info\r\n        offer_shop  \r\n      }\r\n    }`,\r\n    offerDelete: `mutation OfferDelete($offerIdList: [String]) {\r\n      offerDelete(offerIdList: $offerIdList) \r\n    }`,\r\n  },\r\n};\r\n\r\nfunction create() {\r\n  return {\r\n    id: uuidv4(),\r\n    created_at: Math.floor(Date.now() / 1000),\r\n    info: '',\r\n    offer_products: [],\r\n    offer_shop: 1,\r\n  };\r\n}\r\n","import uuidv4 from './uuidv4';\r\n\r\nexport default {\r\n  create,\r\n  queries: {\r\n    productList: `{\r\n    productList {\r\n      page {\r\n        current\r\n        length\r\n      }\r\n      items {\r\n        id\r\n        batch\r\n        condition\r\n        created_at\r\n        desc\r\n        gallery\r\n        title\r\n        shop\r\n        category\r\n        condition\r\n        price {\r\n          initial\r\n          selling\r\n        }\r\n        quantity {\r\n          val\r\n          unit\r\n        }\r\n      }\r\n    }\r\n  }\r\n  `,\r\n  },\r\n  mutations: {\r\n    productCreate: `mutation ProductCreate($product: ProductInput) {\r\n      productCreate(product: $product) {\r\n        id\r\n        batch\r\n        created_at\r\n        desc\r\n        gallery\r\n        title\r\n        shop\r\n        category\r\n        condition\r\n        price {\r\n          initial\r\n          selling\r\n        }\r\n        quantity {\r\n          val\r\n          unit\r\n        }\r\n      }\r\n    }`,\r\n  },\r\n  imgFilename(prod) {\r\n    const name = prod.id + '_0.jpg';\r\n    return name;\r\n  },\r\n  imgUrl(id) {\r\n    return `img/prod/${id}_0.jpg?${Date.now()}`; // to invalidate browser cache\r\n  },\r\n};\r\n\r\nfunction create() {\r\n  return {\r\n    id: uuidv4(),\r\n    batch: false,\r\n    condition: 0,\r\n    created_at: Math.floor(Date.now() / 1000),\r\n    desc: '',\r\n    gallery: [],\r\n    title: '',\r\n    shop: 1,\r\n    category: 0,\r\n    price: { initial: 0, selling: 0 },\r\n    quantity: { val: 1, unit: '' },\r\n  };\r\n}\r\n","import offers from './offers.app';\r\nimport products from './products.app';\r\n\r\nexport default {\r\n  connect,\r\n  async offerList() {\r\n    const res = await _gqlFetch(offers.queries.offerList);\r\n    return res;\r\n  },\r\n  async productList() {\r\n    const res = await _gqlFetch(products.queries.productList);\r\n    return res;\r\n  },\r\n  async productCreate(product) {\r\n    return _gqlPost({\r\n      query: products.mutations.productCreate,\r\n      variables: {\r\n        product,\r\n      },\r\n    });\r\n  },\r\n  async offerCreate(offer) {\r\n    return _gqlPost({\r\n      query: offers.mutations.offerCreate,\r\n      variables: {\r\n        offer,\r\n      },\r\n    });\r\n  },\r\n  async offerDelete(offerIdList) {\r\n    return _gqlPost({\r\n      query: offers.mutations.offerDelete,\r\n      variables: {\r\n        offerIdList,\r\n      },\r\n    });\r\n  },\r\n};\r\n\r\nasync function connect(params) {\r\n  const rawResponse = await fetch('connect', {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(params),\r\n  });\r\n  const json = await rawResponse.json();\r\n  return json;\r\n}\r\n\r\nasync function _gqlFetch(query_) {\r\n  const rawResponse = await fetch('gql?query=' + query_);\r\n  const json = await rawResponse.json();\r\n  return json.data;\r\n}\r\n\r\nasync function _gqlPost({ query, variables }) {\r\n  const rawResponse = await fetch('/gql', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      query,\r\n      variables,\r\n    }),\r\n  });\r\n  const json = await rawResponse.json();\r\n  return json.data;\r\n}\r\n","export default {\r\n  auth: { login: '', connected: false, error: false },\r\n  route: 'offer_list',\r\n  offer: {\r\n    created_at: 0,\r\n    id: '',\r\n    info: '',\r\n    offer_products: [],\r\n  },\r\n  offers: [],\r\n  offers_to_delete: [],\r\n  offerListMode: 'list',\r\n};\r\n","const settings = {\r\n  getProductCategory,\r\n  getProductQuantity,\r\n  getShop,\r\n  productCategories: [],\r\n  productConditions: [],\r\n  shops: [],\r\n};\r\n\r\nexport default settings;\r\n\r\nfunction getShop(id_) {\r\n  return settings.shops.find(shop => shop.id === id_);\r\n}\r\n\r\nfunction getProductQuantity(qty_) {\r\n  if (qty_.unit === '') return '';\r\n  return '/ ' + qty_.unit;\r\n}\r\n\r\nfunction getProductCategory(id_) {\r\n  return settings.productCategories[id_].val;\r\n}\r\n","import api from './clientApi';\r\nimport settings from './settings';\r\n\r\nexport default { connect, disconnect };\r\n\r\nasync function connect(app, params) {\r\n  const res = await api.connect(params);\r\n\r\n  if (res.connected === true) {\r\n    Object.assign(settings, {\r\n      shops: res.shops,\r\n      productCategories: res.productCategories,\r\n      productConditions: res.productConditions,\r\n      productUnits: res.productUnits,\r\n    });\r\n  }\r\n\r\n  const auth = {\r\n    connected: res.connected,\r\n    error: !res.connected,\r\n    login: res.login,\r\n  };\r\n\r\n  app.setState({\r\n    auth,\r\n  });\r\n\r\n  return auth;\r\n}\r\n\r\nfunction disconnect(app) {\r\n  app.setState({ auth: { connected: false } });\r\n}\r\n","import clientApi from './clientApi';\r\nimport model from './model';\r\nimport user from './user';\r\n\r\nimport offerApp from './offers.app';\r\n\r\nconst actions = {\r\n  disconnect: user.disconnect,\r\n  async connect(app, actionId, params) {\r\n    return user.connect(app, params);\r\n  },\r\n  offer_toggle_product,\r\n  offer_create,\r\n  offer_edit,\r\n  offer_save,\r\n};\r\n\r\n['offer_list', 'product_create', 'product_list'].forEach(k => {\r\n  actions[k] = _go;\r\n});\r\n\r\nexport default actions;\r\n\r\nfunction offer_edit(app, actionId, offer) {\r\n  model.offer = offer;\r\n  app.setState({ offer });\r\n  app.go('offer_edit');\r\n}\r\n\r\nfunction offer_create(app, actionId) {\r\n  const offer = offerApp.create();\r\n  model.offer = offer;\r\n  app.setState({ offer });\r\n  app.go('offer_product_add_display_modal');\r\n}\r\n\r\nasync function offer_save(app, actionId) {\r\n  await clientApi.offerCreate(model.offer);\r\n  app.go('offer_list');\r\n}\r\n\r\nfunction _go(app, actionId) {\r\n  app.go(actionId);\r\n}\r\n\r\nfunction offer_toggle_product(app, actionId, product) {\r\n  const findIndex = model.offer.offer_products.findIndex(\r\n    id => product.id === id,\r\n  );\r\n\r\n  if (findIndex === -1) {\r\n    model.offer.offer_products.push(product.id);\r\n  } else {\r\n    model.offer.offer_products.splice(findIndex, 1);\r\n  }\r\n}\r\n","import actions from './actions';\r\n\r\nconst app = {\r\n  setState: null,\r\n  getState: null,\r\n  action,\r\n  actionPayload,\r\n  go,\r\n};\r\n\r\nexport default app;\r\n\r\nfunction action(actionId) {\r\n  return actions[actionId](app, actionId);\r\n}\r\n\r\nfunction actionPayload(actionId, payload) {\r\n  return actions[actionId](app, actionId, payload);\r\n}\r\n\r\nfunction go(newRoute) {\r\n  const { route } = app.getState();\r\n  if (route === newRoute) return;\r\n  app.setState({ route: newRoute });\r\n}\r\n","import React from 'react';\r\n\r\nimport app from '../app';\r\n\r\nimport '../css/login.css';\r\n\r\nexport default class Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: false, login: '', passwd: '' };\r\n\r\n    this.login_handleChange = this.login_handleChange.bind(this);\r\n    this.passwd_handleChange = this.passwd_handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  login_handleChange(event) {\r\n    this.setState({ login: event.target.value });\r\n  }\r\n\r\n  passwd_handleChange(event) {\r\n    this.setState({ passwd: event.target.value });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const auth = await app.actionPayload('connect', this.state);\r\n    const { error } = auth;\r\n    error && this.setState({ error: true });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"authentication\">\r\n        <h1>Les Anges de la Rue</h1>\r\n        {this.state.error === true && (\r\n          <p className=\"authentication__error\">\r\n            Mauvais login ou mot de passe\r\n          </p>\r\n        )}\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Login\"\r\n            onChange={this.login_handleChange}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Mot de passe\"\r\n            onChange={this.passwd_handleChange}\r\n          />\r\n          <input type=\"submit\" value=\"Connexion\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport app from '../app';\r\n\r\nimport '../css/cms.navbar.css';\r\n\r\nexport default function CmsNav() {\r\n  return (\r\n    <div className=\"nav\" onClick={app.onAction}>\r\n      <div className=\"wrapper\">\r\n        <div className=\"nav__left\">\r\n          {_link('offer_list', 'Promotions')}\r\n          {_link('product_list', 'Produits')}\r\n        </div>\r\n        <div className=\"nav__right\">{_link('disconnect', 'Déconnexion')}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction _link(newRoute, label) {\r\n  const { route } = app.getState();\r\n  return (\r\n    <button\r\n      className={'link' + (route[0] === newRoute[0] ? ' active' : '')}\r\n      onClick={function(e) {\r\n        e.preventDefault();\r\n        app.action(newRoute);\r\n      }}\r\n    >\r\n      {Icon(newRoute)}\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction Icon(link) {\r\n  switch (link) {\r\n    case 'product_list':\r\n      return <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m66.077029,10.057646c-2.147668,-0.043169 -4.316925,0.453275 -6.313504,1.403002a20.872334,20.872334 0 0 0 -7.986309,7.112134l-9.993683,0a2.859968,2.859968 0 0 0 -0.474864,-0.032375a2.859968,2.859968 0 0 0 -1.057647,0.237428a2.859968,2.859968 0 0 0 -0.107928,0.043169a2.859968,2.859968 0 0 0 -1.090022,0.874183l-16.836006,16.836006a2.859968,2.859968 0 0 0 -0.841799,2.028954l0,42.834699c0,4.694655 3.863642,8.558297 8.569092,8.558297l39.974731,0a8.61227,8.61227 0 0 0 8.5691,-8.558297l0,-42.845493a2.859968,2.859968 0 0 0 -0.841799,-2.007365l-0.917352,-0.928138c1.618849,-4.176631 2.223221,-8.504342 1.726768,-12.465126c-0.571988,-4.565147 -2.568568,-8.763358 -6.248746,-11.213212a11.450649,11.450649 0 0 0 -6.130032,-1.888652l0,0.010786zm-0.194258,5.633588a5.719927,5.719927 0 0 1 3.162145,1.003683c1.921035,1.273494 3.324028,3.798901 3.744937,7.166098c0.280597,2.201632 0.06475,4.70545 -0.571997,7.230848l-11.698871,-11.688076a2.859968,2.859968 0 0 0 -1.21953,-0.712291c0.971308,-0.86338 1.964204,-1.59726 2.946307,-2.072124a8.169781,8.169781 0 0 1 3.637009,-0.917344l0,-0.010794zm-23.332983,8.579895l6.237952,0c-0.4209,1.079227 -0.755461,2.180043 -1.036058,3.291653a5.763096,5.763096 0 0 0 -3.52909,5.277438c0,3.118984 2.590157,5.709133 5.709133,5.709133c3.118984,0 5.709141,-2.590148 5.709141,-5.719919a5.698338,5.698338 0 0 0 -2.201632,-4.446433c0.37773,-1.381421 0.895755,-2.75204 1.532502,-4.036328l0.064758,-0.064758l2.287971,0l13.738611,13.738619a2.859968,2.859968 0 0 0 0.010794,0.02158a2.859968,2.859968 0 0 0 0.647541,0.647541l1.057647,1.057647l0,41.65833a2.784415,2.784415 0 0 1 -2.849173,2.849173l-39.985517,0a2.784415,2.784415 0 0 1 -2.859968,-2.859968l0,-41.647535l15.465388,-15.476182l0,0.000009zm7.338768,17.095023a2.859968,2.859968 0 0 0 -2.805995,2.892334l0,2.859968a8.61227,8.61227 0 0 0 -8.579895,8.558306c0,4.70545 3.874445,8.569092 8.5691,8.569092l5.719927,0a2.806004,2.806004 0 0 1 2.849165,2.859968a2.806004,2.806004 0 0 1 -2.859959,2.849173l-11.418265,0a2.859968,2.859968 0 1 0 0,5.719927l5.719927,0l0,2.849165a2.859968,2.859968 0 1 0 5.698338,0l0,-2.859959a8.61227,8.61227 0 0 0 8.5691,-8.558306a8.61227,8.61227 0 0 0 -8.5691,-8.5691l-5.709133,0a2.806004,2.806004 0 0 1 -2.849173,-2.859959a2.806004,2.806004 0 0 1 2.849173,-2.849173l11.418265,0a2.859968,2.859968 0 1 0 0,-5.719927l-5.709133,0l0,-2.849173a2.859968,2.859968 0 0 0 -2.892343,-2.892334z\"/></svg>;\r\n      break;\r\n    case 'offer_list':\r\n      return <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m68.649475,18.75344a3.120514,3.120514 0 0 0 -3.071456,3.162851l0,0.719366l-53.165374,13.986121a3.120514,3.120514 0 0 0 -3.047045,-2.267063a3.120514,3.120514 0 0 0 -3.071456,3.162851l0,24.961637a3.120514,3.120514 0 0 0 6.1185,0.89508l6.362377,1.675886l0,6.709678c0,5.13179 4.228809,9.360599 9.360599,9.360599l9.360599,0c4.906782,0 8.945136,-3.877381 9.293498,-8.702439l18.7883,4.942279l0,0.719366a3.120514,3.120514 0 1 0 6.240321,0l0,-56.163596a3.120514,3.120514 0 0 0 -3.168865,-3.162851l0,0.000236zm-3.071456,10.32962l0,41.830174l-53.043435,-13.955577l0,-13.91902l53.043435,-13.955577zm25.107869,2.181683a3.120514,3.120514 0 0 0 -1.133532,0.170997l-9.360599,3.12016a3.122047,3.122047 0 1 0 1.974482,5.923564l9.360599,-3.120278a3.120514,3.120514 0 0 0 -0.84095,-6.094089l0,-0.000354zm-9.506949,15.613185a3.120514,3.120514 0 1 0 0,6.240439l9.360599,0a3.120514,3.120514 0 1 0 0,-6.240439l-9.360599,0zm0.072998,12.468613a3.120514,3.120514 0 0 0 -1.060416,6.094089l9.360599,3.120278a3.122047,3.122047 0 1 0 1.9746,-5.923564l-9.360599,-3.12016a3.120514,3.120514 0 0 0 -0.914184,-0.170997l0,0.000354zm-56.236594,7.343427l15.601038,4.101328l0,0.969375c0,1.782494 -1.337666,3.12016 -3.120278,3.12016l-9.360599,0c-1.782494,0 -3.12016,-1.337666 -3.12016,-3.12016l0,-5.070703z\"/></svg>;\r\n      break;\r\n    case 'disconnect':\r\n      return <svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m191.343801,362.126596c-8.384106,-0.466835 -16.818682,-0.170332 -25.234331,-0.214492c-10.724591,-0.050469 -16.326612,-5.677724 -16.326612,-16.471709q0,-89.581875 0,-179.220526c0,-10.560567 5.602021,-16.225675 16.15628,-16.301378c8.074986,-0.056777 16.15628,0.189257 24.224958,-0.100937a27.549581,27.549581 0 0 0 26.723156,-28.079502c-0.201875,-14.881947 -12.219725,-26.849328 -27.423409,-27.126906c-9.084359,-0.151406 -18.168718,-0.17664 -27.253077,0c-31.700628,0.763339 -59.06726,23.120956 -66.031935,53.881605c-0.630858,2.819936 -1.122928,5.677724 -1.678083,8.516587l0,197.799302c0.239726,1.085076 0.561464,2.151227 0.71287,3.24892c4.220442,30.3569 29.763893,55.6417 60.278508,58.606733c11.986307,1.167088 24.206032,0.927362 36.286968,0.473144c9.936018,-0.372206 17.241357,-6.024696 21.928634,-14.648529c9.431331,-17.354911 -2.674839,-39.264619 -22.363926,-40.362312z\"/><path d=\"m323.59062,154.832877c-5.160421,-5.160421 -11.538398,-7.627077 -18.799576,-7.734322a27.95333,27.95333 0 0 0 -25.865189,16.73667a27.221534,27.221534 0 0 0 5.728193,30.167643c11.620409,11.847518 23.341756,23.68242 35.037868,35.473161c0.813807,0.820116 1.55822,1.930426 2.801011,3.192143l-6.037314,0c-37.220638,0 -74.485436,-0.151406 -111.725,-0.069394c-18.540925,0.037851 -31.542914,16.219366 -27.448643,33.952792c2.876714,12.446834 14.383569,21.114826 27.965947,21.127444c37.580227,0 75.154146,-0.126172 112.734373,-0.126172l3.867161,0a12.970446,12.970446 0 0 0 0.965213,1.532986c-1.072459,0.630858 -2.340484,1.06615 -3.154291,1.892575c-11.147266,11.058946 -22.338691,22.08004 -33.303008,33.334551c-10.724591,10.964317 -10.623653,27.858701 -0.126172,38.482355c10.857071,10.989551 27.99749,11.532089 39.005967,0.630858q42.425219,-42.002544 84.427762,-84.434071a26.792551,26.792551 0 0 0 -0.075703,-37.939816q-42.841585,-43.26426 -85.9986,-86.2194z\"/></svg>;\r\n      break;\r\n  }\r\n}","import React from 'react';\r\n\r\nimport '../css/cms.offer.product.css';\r\n\r\nexport default function CmsOfferProduct(props) {\r\n  // const dt = new Date(props.offer.created_at * 1000).toLocaleDateString();\r\n  const { offer } = props;\r\n\r\n  return (\r\n    <div className=\"offer\">\r\n      {props.mode === 'delete' && (\r\n        <span className=\"top-right__button\">\r\n          <img src=\"img/ui/trash.svg\" alt=\"delete\" />\r\n        </span>\r\n      )}\r\n      {offer.offer_products.map(prod => (\r\n        <div\r\n          className=\"offer__product\"\r\n          key={prod.id}\r\n          style={{\r\n            backgroundImage: 'url(' + prod.gallery[0] + ')',\r\n          }}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport clientApi from '../clientApi';\r\nimport app from '../app';\r\n\r\nimport CmsOfferProduct from './cms.offer.product';\r\n\r\nimport '../css/cms.offer.list.css';\r\n\r\nexport default class CmsOfferList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      mode: 'list',\r\n      offerList: { page: null, items: [] },\r\n      offers_to_delete: [],\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    const res = await clientApi.offerList();\r\n    this.setState({ offerList: res.offerList });\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    const _self = this;\r\n    return (\r\n      <div className=\"wrapper\">\r\n        {mode === 'list' ? (\r\n          <div>\r\n            <button onClick={e => app.action('offer_create')} className=\"big-button\">\r\n              Créer une promotion\r\n            </button>\r\n            <div className=\"list-title\">\r\n              Historique des promotions\r\n              {/* <button\r\n                onClick={e =>\r\n                  _self.setState({ mode: 'delete', offers_to_delete: [] })\r\n                }\r\n              >\r\n                x\r\n              </button> */}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"mtop-title\">\r\n            <div className=\"top-right-submit\">\r\n              <button\r\n                onClick={e =>\r\n                  _self.setState({ mode: 'list', offers_to_delete: [] })\r\n                }\r\n              >\r\n                X\r\n              </button>\r\n              <button\r\n                onClick={e => {\r\n                  clientApi\r\n                    .offerDelete(_self.state.offers_to_delete)\r\n                    .then(data => {\r\n                      const deletedOffers = data.offerDelete,\r\n                        filteredOfferItems = _self.state.offerList.items.filter(\r\n                          offer => deletedOffers.includes(offer.id) === false,\r\n                        );\r\n                      _self.setState({\r\n                        mode: 'list',\r\n                        offerList: {\r\n                          items: filteredOfferItems,\r\n                          page: _self.state.offerList.page,\r\n                        },\r\n                        offers_to_delete: [],\r\n                      });\r\n                    });\r\n                }}\r\n              >\r\n                Valider\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {this.state.offerList.items.map(offer => (\r\n          <div\r\n            key={offer.id}\r\n            onClick={\r\n              mode === 'list'\r\n                ? e => {\r\n                    app.actionPayload('offer_edit', offer);\r\n                  }\r\n                : // mode === 'delete'\r\n                  e => {\r\n                    const { offers_to_delete } = _self.state,\r\n                      findIndex = offers_to_delete.findIndex(\r\n                        id => offer.id === id,\r\n                      );\r\n\r\n                    if (findIndex === -1) {\r\n                      offers_to_delete.push(offer.id);\r\n                    } else {\r\n                      offers_to_delete.splice(findIndex, 1);\r\n                    }\r\n                    _self.setState({ offers_to_delete });\r\n                  }\r\n            }\r\n          >\r\n            <CmsOfferProduct\r\n              offer={offer}\r\n              mode={\r\n                _self.state.offers_to_delete.includes(offer.id)\r\n                  ? 'delete'\r\n                  : 'list'\r\n              }\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import FileSaver from 'file-saver';\r\nimport html2canvas from 'html2canvas';\r\nimport React from 'react';\r\n\r\nimport settings from '../settings';\r\nimport model from '../model';\r\nimport app from '../app';\r\n\r\nimport '../css/cms.offer.edit.css';\r\n\r\nexport default class CmsOfferEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { snapping: false };\r\n    this.exportImage = this.exportImage.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n  }\r\n\r\n  exportImage() {\r\n    const offerArea = document.getElementById('offer-area');\r\n    const offerDelProd = document.querySelectorAll(\r\n      '.offer-edit__product__delete',\r\n    );\r\n    offerArea.style.width = '300px';\r\n    offerDelProd.forEach(n => (n.style.display = 'none'));\r\n\r\n    html2canvas(offerArea, { width: 300 }).then(function(canvas) {\r\n      canvas.toBlob(\r\n        function(blob) {\r\n          FileSaver.saveAs(blob, 'promotion.jpg');\r\n          offerArea.style.width = '';\r\n          offerDelProd.forEach(n => (n.style.display = ''));\r\n        },\r\n        'image/jpeg',\r\n        0.92,\r\n      );\r\n    });\r\n  }\r\n  handleCancel() {\r\n    app.go('offer_list');\r\n  }\r\n  render() {\r\n    const prods = model.offer.offer_products;\r\n    return (\r\n      <div>\r\n        {/* <div className=\"offer-edit__add-product\" /> */}\r\n        <div className=\"sticky-header\">\r\n          <div className=\"wrapper\">\r\n            <button onClick={this.handleCancel}>X</button>\r\n            <button className=\"facebookColor\" onClick={this.exportImage}>Export Facebook</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"offer-edit\">\r\n          <div id=\"offer-area\" class=\"offer-area\">\r\n            {prods.map(prod => {\r\n              const imgUrl = prod.gallery[0];\r\n              return (\r\n                <div\r\n                  className=\"offer-edit__product\"\r\n                  key={prod.id}\r\n                  style={{\r\n                    backgroundImage: 'url(' + imgUrl + ')',\r\n                  }}\r\n                >\r\n                  <div className=\"offer-edit__product__title\">{prod.title}</div>\r\n                  <div className=\"offer-edit__product__price\">\r\n                    <div className=\"offer-edit__product__price__content\">\r\n                      <span\r\n                        className=\"offer-edit__product__price__precise\"\r\n                        style={{ display: 'none' }}\r\n                      >\r\n                        à partir de\r\n                      </span>\r\n                      <span className=\"offer-edit__product__price__final\">\r\n                        <span style={{ fontSize: '0.7em' }}>\r\n                          {prod.batch === true ? 'à partir de ' : ''}\r\n                        </span>\r\n                        {prod.price.selling}\r\n                        <img src=\"img/ui/euro.svg\" alt=\"euro\" width=\"16rem\" />\r\n                        <span>{settings.getProductQuantity(prod.quantity)}</span>\r\n                      </span>\r\n                      {prod.batch === false && (\r\n                        <span className=\"offer-edit__product__price__initial\">\r\n                          {prod.price.initial}\r\n                          <img src=\"img/ui/euro.svg\" alt=\"euro\" width=\"11rem\" />\r\n                          <span>\r\n                            {settings.getProductQuantity(prod.quantity)}\r\n                          </span>\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport model from '../model';\r\n\r\nimport settings from '../settings';\r\nimport app from '../app';\r\n\r\nimport '../css/cms.product.details.css';\r\n\r\nexport default class CmsProductDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { mode: props.mode, p: props.prod, offer: model.offer };\r\n    this.handleToggleProduct = this.handleToggleProduct.bind(this);\r\n  }\r\n\r\n  handleToggleProduct(e) {\r\n    e.preventDefault();\r\n    if (this.state.mode === 'offer_product_add_display_modal') {\r\n      const newState = Object.assign({}, this.state);\r\n      app.actionPayload('offer_toggle_product', this.state.p);\r\n      newState.offer = model.offer;\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const p = this.state.p;\r\n    const shop = settings.getShop(p.shop);\r\n    const isOfferPick = this.state.mode === 'offer_product_add_display_modal';\r\n    const isProductSelected =\r\n      isOfferPick === false\r\n        ? false\r\n        : model.offer.offer_products.findIndex(id => id === p.id) > -1;\r\n\r\n    return (\r\n      <div\r\n        className={'product' + (isProductSelected === true ? ' selected' : '')}\r\n        onClick={this.handleToggleProduct}\r\n      >\r\n        <div\r\n          className=\"product__image\"\r\n          style={{\r\n            backgroundImage:\r\n              'url(' + process.env.PUBLIC_URL + p.gallery[0] + ')',\r\n          }}\r\n        />\r\n        <div className=\"product__desc\">\r\n          <span>{p.title}</span>\r\n          {p.desc && <span>{p.desc}</span>}\r\n        </div>\r\n        <div className=\"product__cat\">\r\n          <span>{settings.getProductCategory(p.category)}</span>\r\n          <span>{shop.name}</span>\r\n        </div>\r\n        <div className=\"product__qty\">\r\n          {p.quantity.val}{' '}\r\n          {p.quantity.unit === '' ? 'exemplaires' : p.quantity.unit}\r\n        </div>\r\n        <div className=\"product__price\">\r\n          {p.batch === true && ('à partir de ')}\r\n          {p.batch === false && (<span>{p.price.initial}€</span>)}\r\n          <strong>{p.price.selling}€</strong>\r\n          {settings.getProductQuantity(p.quantity) !== '' && (<span>{settings.getProductQuantity(p.quantity)}</span>)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport api from '../clientApi';\r\nimport app from '../app';\r\nimport CmsProductDetails from './cms.product.details';\r\n\r\nimport '../css/cms.product.list.css';\r\n\r\nexport default class CmsProductList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      mode: props.mode,\r\n      productList: { page: null, items: [] },\r\n    };\r\n\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n  }\r\n  async componentDidMount() {\r\n    const res = await api.productList();\r\n    this.setState({ productList: res.productList });\r\n  }\r\n\r\n  handleCancel() {\r\n    app.go('offer_list');\r\n  }\r\n\r\n  handleSave() {\r\n    app.action('offer_save');\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state;\r\n    return (\r\n      <div>\r\n        {mode === 'product_list' && (\r\n          <div className=\"wrapper\">\r\n            <button\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                app.action('product_create');\r\n              }}\r\n              className=\"big-button\"\r\n            >\r\n              Ajouter un produit\r\n            </button>\r\n            <div className=\"list-title\">Produits enregistrés</div>\r\n          </div>\r\n        )}\r\n        {mode === 'offer_product_add_display_modal' && (\r\n          <div>\r\n            <div className=\"sticky-header\">\r\n              <div className=\"wrapper\">\r\n                <button onClick={this.handleCancel}>X</button>\r\n                <button onClick={this.handleSave}>Valider</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"ticky-header__title\">\r\n              Cliquer sur les produits à inclure dans la promotion\r\n            </div>\r\n          </div>\r\n        )}\r\n        {this.state.productList.items.map(prod_ => (\r\n          <div className=\"wrapper\">\r\n            <CmsProductDetails key={prod_.id} prod={prod_} mode={mode} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport products from '../products.app';\r\nimport settings from '../settings';\r\nimport clientApi from '../clientApi';\r\nimport app from '../app';\r\n\r\nimport '../css/cms.product.edit.css';\r\n\r\nexport default class CmsProductEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const mode = props.prod ? 'edit' : 'add';\r\n    \r\n    this.state = {\r\n      mode,\r\n      prod: mode === 'add' ? products.create() : props.prod,\r\n      selectedFile: null,\r\n      loaded: 0,\r\n    };\r\n\r\n    this.handleChangeProduct = this.handleChangeProduct.bind(this); // whole product\r\n\r\n    this.handleChangeBatch = this.handleChangeBatch.bind(this);\r\n    this.handleChangeCategory = this.handleChangeCategory.bind(this);\r\n    this.handleChangeDesc = this.handleChangeDesc.bind(this);\r\n    this.handleChangeInitialPrice = this.handleChangeInitialPrice.bind(this);\r\n    this.handleChangeSellingPrice = this.handleChangeSellingPrice.bind(this);\r\n    this.handleChangeProductUnit = this.handleChangeProductUnit.bind(this);\r\n    this.handleChangeQuantity = this.handleChangeQuantity.bind(this);\r\n    this.handleChangeShop = this.handleChangeShop.bind(this);\r\n    this.handleChangeTitle = this.handleChangeTitle.bind(this);\r\n\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n\r\n    this.handleselectedFile = this.handleselectedFile.bind(this);\r\n    this.handleUpload = this.handleUpload.bind(this);\r\n  }\r\n\r\n  handleselectedFile = event => {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.selectedFile = event.target.files[0];\r\n    newState.loaded = 0;\r\n    this.setState(newState);\r\n\r\n    // autolaunch upload\r\n    setTimeout(this.handleUpload, 400);\r\n  };\r\n\r\n  handleUpload = () => {\r\n    const data = new FormData(),\r\n      name = products.imgFilename(this.state.prod);\r\n\r\n    data.append('type', 'prod');\r\n    data.append('imgFile', this.state.selectedFile, name);\r\n\r\n    axios\r\n      .post('/upload', data, {\r\n        onUploadProgress: ProgressEvent => {\r\n          this.setState({\r\n            loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n          });\r\n        },\r\n      })\r\n      .then(res => {\r\n        const newState = Object.assign({}, this.state);\r\n        newState.selectedFile = null;\r\n        const imgUrl = products.imgUrl(newState.prod.id);\r\n        newState.prod.gallery[0] = `${imgUrl}?${Date.now()}`;\r\n        this.setState(newState);\r\n        console.log(res.statusText);\r\n      });\r\n  };\r\n\r\n  handleChangeProduct(prod) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod = prod;\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeBatch(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.batch = event.target.checked;\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeShop(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.shop = parseInt(event.target.value, 10);\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeCategory(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.category = parseInt(event.target.value, 10);\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeDesc(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.desc = event.target.value;\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeInitialPrice(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    const value = parseFloat(event.target.value);\r\n    newState.prod.price.initial = value;\r\n    newState.prod.price.selling = value / 2;\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeSellingPrice(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.price.selling = parseFloat(event.target.value);\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeProductUnit(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.quantity.unit = event.target.value;\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeQuantity(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.quantity.val = parseInt(event.target.value, 10);\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleChangeTitle(event) {\r\n    const newState = Object.assign({}, this.state);\r\n    newState.prod.title = event.target.value;\r\n    this.setState(newState);\r\n  }\r\n\r\n  async handleSave() {\r\n    const res = await clientApi.productCreate(this.state.prod);\r\n    this.handleChangeProduct(res.productCreate);\r\n    app.action('product_list');\r\n  }\r\n  handleCancel() {\r\n    app.go('product_list');\r\n  }\r\n\r\n  render() {\r\n    const prod = this.state.prod;\r\n    const hasPhoto = prod.gallery.length > 0;\r\n    const hasSelectedFile = this.state.selectedFile !== null;\r\n    const selectedShop = settings.getShop(prod.shop);\r\n    \r\n    return (\r\n      <div className=\"product-edit\">\r\n        <div className=\"sticky-header\">\r\n          <div className=\"wrapper\">\r\n            <button onClick={this.handleCancel}>X</button>\r\n            <button onClick={this.handleSave} disabled={false}>Valider</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"product-edit__photos\">\r\n          <div className=\"wrapper\">\r\n            <h2>Photo <span className=\"colorRed\">*</span></h2>\r\n            <div\r\n              className=\"product-edit__photo\"\r\n              style={\r\n                hasPhoto\r\n                  ? {\r\n                      backgroundImage: 'url(' + prod.gallery[0] + ')',\r\n                    }\r\n                  : { backgroundColor: '#ddd' }\r\n              }\r\n            >\r\n              { !hasPhoto ? (\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path strokeWidth=\"6\" d=\"m33,9c-1.63688,0 -3.06435,0.55366 -4.28125,1.4375c-1.18359,0.85965 -2.20542,2.12217 -2.59375,3.84375c-0.00096,0.004 -0.0303,-0.004 -0.03125,0l-0.03125,0.125l-2.5625,10.59375l-8.59375,0c-5.46165,0 -9.90625,4.53084 -9.90625,10l0,46c0,5.4692 4.4446,10 9.90625,10l60.09375,0a3.0003,3.0003 0 1 0 0,-6l-60.09375,0c-2.2031,0 -3.90625,-1.7132 -3.90625,-4l0,-46c0,-2.28684 1.70315,-4 3.90625,-4l70.1875,0c2.2031,0 3.90625,1.71317 3.90625,4l0,46c0,2.2868 -1.70315,4 -3.90625,4a3.0003,3.0003 0 1 0 0,6c5.46165,0 9.90625,-4.5308 9.90625,-10l0,-46c0,-5.46917 -4.4446,-10 -9.90625,-10l-8.59375,0l-2.5625,-10.59375c-0.009,-0.0449 -0.02137,-0.0807 -0.03125,-0.125l-0.03125,0c-0.38833,-1.72158 -1.41016,-2.9841 -2.59375,-3.84375c-1.2169,-0.88384 -2.64437,-1.4375 -4.28125,-1.4375l-34,0zm0,6l34,0c0.05803,0 0.47373,0.0806 0.75,0.28125c0.20721,0.15049 0.29319,0.33085 0.3125,0.34375a3.0003,3.0003 0 0 0 0.03125,0.0625l2.25,9.3125l-40.6875,0l2.25,-9.3125a3.0003,3.0003 0 0 0 0.03125,-0.0625c0.01931,-0.01291 0.1053,-0.19326 0.3125,-0.34375c0.27627,-0.20066 0.69197,-0.28125 0.75,-0.28125zm17,20c-12.66701,0 -23,10.33296 -23,23c0,12.667 10.33299,23 23,23c12.66701,0 23,-10.333 23,-23c0,-12.66704 -10.33299,-23 -23,-23zm0,6c9.42437,0 17,7.5756 17,17c0,9.4244 -7.57563,17 -17,17c-9.42437,0 -17,-7.5756 -17,-17c0,-9.4244 7.57563,-17 17,-17zm-8.34375,13.96875a3.0003,3.0003 0 0 0 -2.65625,3.03125c0,6.0396 4.9604,11 11,11a3.0003,3.0003 0 1 0 0,-6c-2.79696,0 -5,-2.2031 -5,-5a3.0003,3.0003 0 0 0 -3.0625,-3.03125a3.0003,3.0003 0 0 0 -0.28125,0z\"/></svg>\r\n              ) : ''}\r\n              <input\r\n                type=\"file\"\r\n                onChange={this.handleselectedFile}\r\n                style={{ display: hasSelectedFile === false ? '' : 'none' }}\r\n              />\r\n            </div>\r\n            {hasSelectedFile && (\r\n              <button onClick={this.handleUpload}>\r\n                {'Télécharger ' + _progressLabel(this.state.loaded)}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"wrapper\">\r\n        <h2>Description</h2>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_title\">Titre <span className=\"colorRed\">*</span></label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"product_title\"\r\n            onChange={this.handleChangeTitle}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_price_initial\">Prix initial <span className=\"colorRed\">*</span></label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"product_price_initial\"\r\n            onChange={this.handleChangeInitialPrice}\r\n            value={prod.price.initial}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_price_final\">Prix de vente <span className=\"colorRed\">*</span></label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"product_price_final\"\r\n            onChange={this.handleChangeSellingPrice}\r\n            value={prod.price.selling}\r\n          />\r\n        </div>\r\n      \r\n        <div className=\"product-edit__form__field\">\r\n          <input id=\"product_price_precise\" type=\"checkbox\" value={prod.batch} onClick={this.handleChangeBatch} />\r\n          <label htmlFor=\"product_price_precise\">Prix \"à partir de\" ?</label>\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_description\">Description</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"product_description\"\r\n            onChange={this.handleChangeDesc}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_category\">Catégorie</label>\r\n          <select\r\n            id=\"product_category\"\r\n            value={prod.category}\r\n            onChange={this.handleChangeCategory}\r\n          >\r\n            {settings.productCategories.map(cat_ => (\r\n              <option value={cat_.id} key={cat_.id}>\r\n                {cat_.val}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_quantity_type\">Le prix concerne</label>\r\n          <select\r\n            id=\"product_quantity_type\"\r\n            onChange={this.handleChangeProductUnit}\r\n            value={prod.quantity.unit}\r\n          >\r\n            {settings.productUnits.map(cat_ => (\r\n              <option value={cat_.unit} key={cat_.id}>\r\n                {cat_.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_quantity\">Stock</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"product_quantity\"\r\n            value={prod.quantity.val}\r\n            onChange={this.handleChangeQuantity}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"product-edit__form__field\">\r\n          <label htmlFor=\"product_location\">Point de vente</label>\r\n          <select\r\n            id=\"product_location\"\r\n            onChange={this.handleChangeShop}\r\n            value={selectedShop.id}\r\n          >\r\n            {settings.shops.map(shop_ => (\r\n              <option value={shop_.id} key={shop_.id}>\r\n                {shop_.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* <button className=\"big-button\" onClick={this.handleSave}>\r\n          Enregistrer\r\n        </button> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction _progressLabel(value_) {\r\n  const _percent = Math.round(value_, 2);\r\n  return _percent === 0 ? '' : '' + _percent + ' %';\r\n}\r\n","import React from 'react';\r\n\r\nimport CmsOfferList from './cms.offer.list';\r\nimport CmsOfferEdit from './cms.offer.edit';\r\nimport CmsProductList from './cms.product.list';\r\nimport CmsProductEdit from './cms.product.edit';\r\n\r\nconst routes = Routes();\r\n\r\nexport default { routes };\r\n\r\nfunction Routes() {\r\n  return {\r\n    offer_edit() {\r\n      return <CmsOfferEdit />;\r\n    },\r\n    offer_list() {\r\n      return <CmsOfferList />;\r\n    },\r\n    offer_delete_display_modal() {\r\n      return <CmsOfferList />;\r\n    },\r\n    offer_product_add_display_modal() {\r\n      return <CmsProductList mode=\"offer_product_add_display_modal\" />;\r\n    },\r\n    product_create() {\r\n      return <CmsProductEdit />;\r\n    },\r\n    product_edit() {\r\n      return <CmsProductEdit />;\r\n    },\r\n    product_list() {\r\n      return <CmsProductList mode=\"product_list\" />;\r\n    },\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nimport CmsNav from './cms.navbar';\r\nimport CmsRouter from './cms.router';\r\n\r\nimport app from '../app';\r\n\r\nimport '../css/cms.css';\r\n\r\nexport default function Cms() {\r\n  const { route } = app.getState();\r\n  return (\r\n    <div>\r\n      <CmsNav />\r\n      {CmsRouter.routes[route]()}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/global.css';\r\n\r\nimport Login from './components/login';\r\nimport Cms from './components/cms';\r\nimport model from './model';\r\n\r\nimport app from './app';\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = model;\r\n\r\n    // [!] we want global state available from everywhere\r\n    app.getState = this.getState.bind(this);\r\n    app.setState = this.setState.bind(this);\r\n  }\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  render() {\r\n    return this.state.auth.connected === false ? <Login /> : <Cms />;\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}